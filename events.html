<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CineBook - Events</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
--primary-color: #f84464;
--primary-hover: #e63353;
--secondary-color: #333333;
--light-color: #f8f9fa;
--dark-color: #212529;
--gray-color: #6c757d;
--shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
--transition: all 0.3s ease;
}
* {
margin: 0; padding: 0;
box-sizing: border-box;
font-family: 'Poppins', sans-serif;
}

body {
background-color: #0a0a0a;
color: white; overflow-x: hidden;
}
.bg-animation { position: fixed; top: 0;
left: 0;
width: 100%; height: 100%; z-index: -1; overflow: hidden;
}

.bg-circle { position: absolute; border-radius: 50%; background: radial-gradient(circle, rgba(248, 68, 100, 0.15) 0%, rgba(248, 68, 100, 0) 70%); animation: float 12s infinite ease-in-out; opacity: 0.6;
}

.bg-particle { position: absolute; background: rgba(255, 255, 255, 0.08); border-radius: 50%; animation: float 8s infinite ease-in-out;
}

@keyframes float {
0%, 100% { transform: translateY(0) scale(1); }
50% { transform: translateY(-500px) scale(1.1); }
}

.back-btn { position: fixed; top: 20px; right: 20px; background: var(--primary-color);
color: white; border: none; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: var(--shadow); transition: var(--transition); z-index: 100;
}
.back-btn:hover { background: var(--primary-hover); transform: scale(1.1); }
.back-btn i { font-size: 1.5rem; }
.container { max-width: 1400px; margin: 0 auto; padding: 80px 20px; position: relative;
}

.section-title { text-align: center; margin-bottom: 60px;
}

.section-title h2 { font-size: 3rem; color: white; padding-bottom: 15px;
text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}
.section-title h2::after { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 150px; height: 4px; background: linear-gradient(90deg, var(--primary-color), #ff6b88); border-radius: 2px;
}
.events-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 40px; margin-bottom: 80px;
}
.event-card {
background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border-radius: 15px; overflow: hidden; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
transition: var(--transition); position: relative;
border: 1px solid rgba(255, 255, 255, 0.1); animation: cardAppear 0.6s ease-out forwards;
}
@keyframes cardAppear {
0% { opacity: 0; transform: scale(0.9); }
100% { opacity: 1; transform: scale(1); }
}
.event-card:nth-child(1) { animation-delay: 0.1s; }
.event-card:nth-child(2) { animation-delay: 0.2s; }
.event-card:nth-child(3) { animation-delay: 0.3s; }
.event-card:nth-child(4) { animation-delay: 0.4s; }
.event-card:nth-child(5) { animation-delay: 0.5s; }
.event-card:nth-child(6) { animation-delay: 0.6s; }
.event-card:nth-child(7) { animation-delay: 0.7s; }
.event-card:nth-child(8) { animation-delay: 0.8s; }
.event-card:nth-child(9) { animation-delay: 0.9s; }
.event-card:nth-child(10) { animation-delay: 1.0s; }
.event-card:hover { transform: translateY(-10px); box-shadow: 0 15px 40px rgba(248, 68, 100, 0.4);
border-color: rgba(248, 68, 100, 0.3);
}
.event-image { height: 220px; overflow: hidden; position: relative; }
.event-image img { width: 100%; height: 100%; object-fit: cover;
transition: transform 0.5s ease;
}

.event-card:hover .event-image img {
transform: scale(1.1);
}

.event-date { position: absolute; top: 15px; left: -5px; background-color: var(--primary-color);
color: white; padding: 8px 15px; font-size: 0.9rem; font-weight: 600;
box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2); clip-path: polygon(0 0, 100% 0, 90% 50%, 100% 100%, 0 100%, 10% 50%); transition: var(--transition);
}

.event-card:hover .event-date { background-color: var(--primary-hover); }

.event-details { padding: 25px;
}

.event-title { font-size: 1.5rem; font-weight: 600; margin-bottom: 10px; transition: color 0.3s ease;
}

.event-card:hover .event-title { color: var(--primary-color);
}

.event-description { color: rgba(255, 255, 255, 0.7); font-size: 0.95rem; margin-bottom: 20px; line-height: 1.6;
}

.event-meta { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;
}

.event-location { display: flex; align-items: center; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;
}

.event-location i { margin-right: 8px; color: var(--primary-color);
}

.event-price { background-color: rgba(248, 68, 100, 0.2); color: white; padding: 5px 15px; border-radius: 20px;
font-size: 0.9rem; font-weight: 600; transition: var(--transition);
}

.event-card:hover .event-price { background-color: var(--primary-color);
}

.book-btn { width: 100%; padding: 12px; background-color: var(--primary-color);
color: white; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); display: flex; align-items: center; justify-content: center;
}

.book-btn i { margin-right: 8px;
}

.book-btn:hover { background-color: var(--primary-hover); transform: translateY(-3px);
}

.filter-buttons { display: flex; justify-content: center; flex-wrap: wrap; gap: 15px; margin-bottom: 50px;
}

.filter-btn { padding: 10px 25px; background-color: rgba(255, 255, 255, 0.1);
color: white; border: none; border-radius: 30px; font-size: 1rem; font-weight: 500; cursor: pointer; transition: var(--transition);
}
.filter-btn:hover, .filter-btn.active { background-color: var(--primary-color); transform: translateY(-3px); }
.no-events { text-align: center; grid-column: 1 / -1; padding: 50px; font-size: 1.2rem; color: rgba(255, 255, 255, 0.7); display: none; }
.booking-modal { display: none; position: fixed; top: 0;
left: 0;
width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); z-index: 1000; align-items: center; justify-content: center;
}
.booking-content {
background: linear-gradient(135deg, #1a1a2e, #16213e); border-radius: 15px; width: 90%; max-width: 800px; max-height: 90vh; padding: 30px; box-shadow: var(--shadow); position: relative; overflow-y: auto; border: 1px solid rgba(255, 255, 255, 0.1);
}
.close-btn { position: absolute; top: 15px; right: 15px; font-size: 1.5rem; color: rgba(255, 255, 255, 0.7); cursor: pointer; transition: var(--transition); }
.close-btn:hover { color: var(--primary-color); transform: rotate(90deg);
}

.booking-step { display: none; }
.booking-step.active { display: block; }
.booking-section { margin-bottom: 20px; }
.booking-section h3 { font-size: 1.5rem; color: white; margin-bottom: 15px; position: relative; }
.booking-section h3::after { content: ''; width: 50px; height: 3px; background: var(--primary-color); position: absolute; bottom: -5px; left: 0; }
.ticket-types, .quantity-selector, .payment-methods { display: flex; flex-wrap: wrap; gap: 10px; }
.ticket-type, .payment-method { padding: 15px 20px; background: rgba(255, 255, 255, 0.1); border-radius: 8px; cursor: pointer; transition: var(--transition); color: white; flex: 1; min-width: 120px; }
.ticket-type:hover, .payment-method:hover { background: var(--primary-color); transform: translateY(-3px); }
.ticket-type.selected, .payment-method.selected {
background: var(--primary-hover); box-shadow: 0 5px 15px rgba(248, 68, 100, 0.4); }
.ticket-type h4 { font-size: 1rem; margin-bottom: 5px; }
.ticket-price { font-weight: bold; color: var(--primary-color); }
.ticket-type.selected .ticket-price { color: white; }
.quantity-control { display: flex; align-items: center; background: rgba(255, 255, 255, 0.1); border-radius: 8px; overflow: hidden; }

.quantity-btn {
padding: 10px 15px; background: rgba(255, 255, 255, 0.1); color: white; border: none; font-size: 1rem; cursor: pointer; transition: var(--transition); }
.quantity-btn:hover { background: var(--primary-color); }
.quantity-input { width: 50px; text-align: center; background: transparent; border: none; color: white; font-size: 1rem; padding: 10px; }
.payment-method {
display: flex; align-items: center; justify-content: center; flex-direction: column; }
.payment-method i { font-size: 1.5rem; margin-bottom: 10px; }
.payment-details { background: rgba(255, 255, 255, 0.1); padding: 20px; border-radius: 10px; margin-top: 15px; color: white;
}
.payment-details p { font-size: 0.95rem; margin: 8px 0; display: flex; justify-content: space-between; }
.payment-details p span:last-child  { font-weight: 500; }
.total-price { font-size: 1.1rem; font-weight: bold; margin-top: 15px; padding-top: 10px; border-top: 1px dashed rgba(255, 255, 255, 0.3); }
.nav-btn { padding: 10px 20px; background: var(--primary-color); color: white; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); margin: 10px 5px 0 0; }
.nav-btn:hover { background: var(--primary-hover); transform: scale(1.05); }
.nav-btn.secondary { background: rgba(255, 255, 255, 0.1); }
.nav-btn.secondary:hover { background: rgba(255, 255, 255, 0.2); }
.success-message { text-align: center; padding: 20px; background: rgba(40, 167, 69, 0.2); color: #d4edda; border-radius: 10px; margin-top: 15px; border: 1px solid rgba(40, 167, 69, 0.3); }
.success-message h3 { color: #d4edda; margin-bottom: 10px; }
.ticket { background: linear-gradient(135deg, #fff, #f9f9f9); width: 350px; padding: 25px; border-radius: 15px; box-shadow: var(--shadow); margin: 20px auto; position: relative; display: none; border: 2px dashed #ccc; color: #333; }
.ticket::before, .ticket::after { content: ''; position: absolute; width: 20px; height: 20px; background: #f5f5f5; border-radius: 50%; border: 2px dashed #ccc; }
.ticket::before { top: -12px; left: 50%; transform: translateX(-50%); }
.ticket::after { bottom: -12px; left: 50%; transform: translateX(-50%); }
.ticket h3 { color: var(--primary-color); margin-bottom: 15px; text-align: center; font-size: 1.5rem; border-bottom: 2px dashed #ccc; padding-bottom: 10px; }
.ticket p {
font-size: 0.9rem; margin: 8px 0; color: var(--secondary-color); display: flex; justify-content: space-between; }
.ticket p span:last-child { font-weight: 500; }
.ticket .barcode { width: 100%; height: 50px; background: repeating-linear-gradient(90deg, #333 0, #333 2px, transparent 2px, transparent 4px); margin-top: 20px; border-radius: 5px; position: relative; }
.ticket .barcode::before { content: 'EventPass'; position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); font-size: 0.8rem; color: var(--gray-color); }
.ticket-logo { text-align: center; margin-bottom: 15px; font-size: 1.8rem; font-weight: bold; color: var(--primary-color); }

.credit-card-form { display: flex; flex-direction: column; gap: 15px; }
.credit-card-form label { font-size: 0.95rem; color: rgba(255, 255, 255, 0.9); margin-bottom: 5px; }
.credit-card-form input
{ width: 100%; padding: 12px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem; transition: var(--transition); }
.credit-card-form input:focus { border-color: var(--primary-color); outline: none; background: rgba(255, 255, 255, 0.15); }
.credit-card-form input:invalid:not(:placeholder-shown) { border-color: #ff4444; }
.credit-card-form .card-details { display: flex; gap: 10px; }
.credit-card-form .card-details input { flex: 1; }

@media (max-width: 1200px) {
.events-grid { grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); }
}

@media (max-width: 768px) {
.container { padding: 60px 15px; }
.section-title h2 { font-size: 2.2rem; }
.events-grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px; }
.event-image { height: 200px; }
.back-btn { width: 40px; height: 40px; }
.back-btn i { font-size: 1.2rem; }
}

@media (max-width: 576px) {
.container { padding: 50px 10px; }
.section-title h2 { font-size: 1.8rem; }
.events-grid { grid-template-columns: 1fr; gap: 25px; }
.event-details { padding: 20px; }
.credit-card-form .card-details { flex-direction: column; }
}
</style>
</head>
<body>
<button class="back-btn" onclick="window.history.back()">
<i class="fas fa-arrow-left"></i>
</button>

<div class="bg-animation" id="bgAnimation"></div>

<div class="container">
<div class="section-title">
<h2>Upcoming Events</h2>
</div>

<div class="filter-buttons">
<button class="filter-btn active" data-filter="all">All</button>
<button class="filter-btn" data-filter="concert">Concerts</button>
<button class="filter-btn" data-filter="festival">Festivals</button>
<button class="filter-btn" data-filter="sports">Sports</button>
<button class="filter-btn" data-filter="theater">Theater</button>
<button class="filter-btn" data-filter="comedy">Comedy</button>
<button class="filter-btn" data-filter="food">Food</button>
<button class="filter-btn" data-filter="exhibition">Exhibitions</button>
</div>

<div class="events-grid" id="eventsGrid">
<div class="event-card" data-category="festival">
<div class="event-image">
<img src="https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80" alt="Sunburn Festival">
<div class="event-date">JUN 15-18</div>
</div>
<div class="event-details">
<h3 class="event-title">Sunburn Festival 2025</h3>
<p class="event-description">Asia's biggest electronic dance music festival featuring top DJs from around the world.</p>
<div class="event-meta">
<div class="event-location"><i class="fas fa-map-marker-alt"></i>Vagator, Goa</div>
<div class="event-price">₹5,999+</div>
</div>
<button class="book-btn" data-event="Sunburn Festival 2025"><i class="fas fa-ticket-alt"></i> Book Tickets</button>
</div>
</div>
<div class="event-card" data-category="concert">
<div class="event-image">
<img src="https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80" alt="Coldplay Concert">
<div class="event-date">NOV 22</div>
</div>
<div class="event-details">
<h3 class="event-title">Coldplay Live in Concert</h3>
<p class="event-description">Experience the magic of Coldplay's Music of the Spheres World Tour.</p>
<div class="event-meta">
<div class="event-location"><i class="fas fa-map-marker-alt"></i>DY Patil Stadium, Mumbai</div>
<div class="event-price">₹7,500+</div>
</div>
<button class="book-btn" data-event="Coldplay Live in Concert"><i class="fas fa-ticket-alt"></i> Book Tickets</button>
</div>
</div>
<div class="event-card" data-category="sports">
<div class="event-image">
<img src="https://images.unsplash.com/photo-1540747913346-19e32dc3e97e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1605&q=80" alt="IPL Cricket">
<div class="event-date">APR 10</div>
</div>
<div class="event-details">
<h3 class="event-title">IPL 2025: Mumbai vs Chennai</h3>
<p class="event-description">Witness the biggest rivalry in IPL as Mumbai Indians take on Chennai Super Kings.</p>
<div class="event-meta">
<div class="event-location"><i class="fas fa-map-marker-alt"></i>Wankhede Stadium, Mumbai</div>
<div class="event-price">₹2,500+</div>
</div>
<button class="book-btn" data-event="IPL 2025: Mumbai vs Chennai"><i class="fas fa-ticket-alt"></i> Book Tickets</button>
</div>
</div>
<div class="event-card" data-category="comedy">
<div class="event-image">
<img src="https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80" alt="Standup Comedy">
<div class="event-date">MAY 5</div>
</div>
<div class="event-details">
<h3 class="event-title">Zakir Khan Live</h3>
<p class="event-description">India's favorite storyteller with his new show "Tathastu".</p>
<div class="event-meta">
<div class="event-location"><i class="fas fa-map-marker-alt"></i>Jawaharlal Nehru Stadium, Delhi</div>
<div class="event-price">₹1,499+</div>
</div>
<button class="book-btn" data-event="Zakir Khan Live"><i class="fas fa-ticket-alt"></i> Book Tickets</button>
</div>
</div>
<div class="event-card" data-category="theater">
<div class="event-image">
<img src="https://images.unsplash.com/photo-1547153760-18fc86324498?ixlib=rb-4.0.3&auto=format&fit=crop&w=1887&q=80" alt="Theater Play">
<div class="event-date">JUN 3-4</div>
</div>
<div class="event-details">
<h3 class="event-title">The Play That Goes Wrong</h3>
<p class="event-description">A hilarious comedy about a theater group where everything goes wrong.</p>
<div class="event-meta">
<div class="event-location"><i class="fas fa-map-marker-alt"></i>NCPA, Mumbai</div>
<div class="event-price">₹1,200+</div>
</div>
<button class="book-btn" data-event="The Play That Goes Wrong"><i class="fas fa-ticket-alt"></i> Book Tickets</button>
</div>
</div>
<div class="event-card" data-category="food">
<div class="event-image">
<img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80" alt="Food Festival">
<div class="event-date">MAY 20-21</div>
</div>
<div class="event-details">
<h3 class="event-title">Grub Fest Delhi</h3>
<p class="event-description">India's biggest food festival with 100+ restaurants and live music.</p>
<div class="event-meta">
<div class="event-location"><i class="fas fa-map-marker-alt"></i>JLN Stadium, Delhi</div>
<div class="event-price">₹999+</div>
</div>
<button class="book-btn" data-event="Grub Fest Delhi"><i class="fas fa-ticket-alt"></i> Book Tickets</button>
</div>
</div>
<div class="event-card" data-category="exhibition">
<div class="event-image">
<img src="art.png">
<div class="event-date">JUL 10-30</div>
</div>
<div class="event-details">
<h3 class="event-title">Modern Art Exhibition</h3>
<p class="event-description">Showcasing contemporary art from emerging Indian artists.</p>
<div class="event-meta">
<div class="event-location"><i class="fas fa-map-marker-alt"></i>NGMA, Mumbai</div>
<div class="event-price">₹499+</div>
</div>
<button class="book-btn" data-event="Modern Art Exhibition"><i class="fas fa-ticket-alt"></i> Book Tickets</button>
</div>
</div>
<div class="event-card" data-category="concert">
<div class="event-image">
<img src="https://images.unsplash.com/photo-1468164016595-6108e4c60c8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80" alt="Rock Concert">
<div class="event-date">AUG 12</div>
</div>
<div class="event-details">
<h3 class="event-title">Rock Nation Festival</h3>
<p class="event-description">India's premier rock music festival with international bands.</p>
<div class="event-meta">
<div class="event-location"><i class="fas fa-map-marker-alt"></i>Palace Grounds, Bangalore</div>
<div class="event-price">₹3,500+</div>
</div>
<button class="book-btn" data-event="Rock Nation Festival"><i class="fas fa-ticket-alt"></i> Book Tickets</button>
</div>
</div>
<div class="event-card" data-category="sports">
<div class="event-image">
<img src="marathon.png">
<div class="event-date">SEP 3</div>
</div>
<div class="event-details">
<h3 class="event-title">Mumbai Marathon 2025</h3>
<p class="event-description">Join thousands of runners in this annual marathon event.</p>
<div class="event-meta">
<div class="event-location"><i class="fas fa-map-marker-alt"></i>Marine Drive, Mumbai</div>
<div class="event-price">₹1,200+</div>
</div>
<button class="book-btn" data-event="Mumbai Marathon 2025"><i class="fas fa-ticket-alt"></i> Book Tickets</button>
</div>
</div>
<div class="event-card" data-category="festival">
<div class="event-image">
<img src="https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-4.0.3&auto=format&fit=crop&w=2069&q=80" alt="Cultural Festival">
<div class="event-date">OCT 5-8</div>
</div>
<div class="event-details">
<h3 class="event-title">India Cultural Festival</h3>
<p class="event-description">Celebrate India's diverse heritage with dance, music, and art.</p>
<div class="event-meta">
<div class="event-location"><i class="fas fa-map-marker-alt"></i>Pragati Maidan, Delhi</div>
<div class="event-price">₹799+</div>
</div>
<button class="book-btn" data-event="India Cultural Festival"><i class="fas fa-ticket-alt"></i> Book Tickets</button>
</div>
</div>
<div class="no-events">
<i class="fas fa-calendar-times" style="font-size: 3rem; margin-bottom: 20px; color: var(--primary-color);"></i>
<h3>No events found for this category</h3>
<p>Please try a different filter or check back later.</p>
</div>
</div>
</div>

<div class="booking-modal" id="bookingModal">
<div class="booking-content">
<i class="fas fa-times close-btn" onclick="closeModal()"></i>
<div class="booking-section">
<h3 id="bookingEventTitle">Book Tickets</h3>
</div>
<!-- Step 1: Ticket Type and Quantity -->
<div class="booking-step active" id="step1">
<div class="booking-section">
<h3>Select Ticket Type</h3>
<div class="ticket-types" id="ticketTypes"></div>
</div>
<div class="booking-section">
<h3>Quantity</h3>
<div class="quantity-selector">
<div class="quantity-control">
<button class="quantity-btn" id="decreaseQty">-</button>
<input type="number" class="quantity-input" id="ticketQty" value="1" min="1" max="10">
<button class="quantity-btn" id="increaseQty">+</button>
</div>
</div>
</div>
<button class="nav-btn" onclick="nextStep(1)">Next</button>
</div>
<div class="booking-step" id="step2">
<div class="booking-section">
<h3>Select Payment Method</h3>
<div class="payment-methods">
<div class="payment-method" data-method="credit"><i class="fas fa-credit-card"></i><span>Credit Card</span></div>
<div class="payment-method" data-method="debit"><i class="fas fa-credit-card"></i><span>Debit Card</span></div>
<div class="payment-method" data-method="paypal"><i class="fab fa-paypal"></i><span>PayPal</span></div>
<div class="payment-method" data-method="upi"><i class="fas fa-mobile-alt"></i><span>UPI</span></div>
</div>
</div>
<button class="nav-btn" onclick="nextStep(2)">Next</button>
<button class="nav-btn secondary" onclick="prevStep(2)">Previous</button>
</div>
<!-- Step 3: Credit Card Details (New) -->
<div class="booking-step" id="step3">
<div class="booking-section">
<h3>Enter Card Details</h3>
<form class="credit-card-form" id="cardForm">
<label for="cardholderName">Cardholder Name <span style="color: #ff4444;">*</span></label>
<input type="text" id="cardholderName" placeholder="John Doe" required>
<label for="cardNumber">Card Number <span style="color: #ff4444;">*</span></label>
<input type="text" id="cardNumber" placeholder="1234567890123456" required>
<div class="card-details">
<div>
<label for="expiryDate">Expiration Date <span style="color: #ff4444;">*</span></label>
<input type="text" id="expiryDate" placeholder="MM/YY" maxlength="5" pattern="(0[1-9]|1[0-2])/[0-9]{2}" required>
</div>
<div>
<label for="cvv">CVV <span style="color: #ff4444;">*</span></label>
<input type="text" id="cvv" placeholder="123" maxlength="3" pattern="[0-9]{3}" required>
</div>
</div>
</form>
</div>
<button class="nav-btn" onclick="nextStep(3)">Next</button>
<button class="nav-btn secondary" onclick="prevStep(3)">Previous</button>
</div>
<!-- Step 4: Payment Confirmation (Updated from Step 3) -->
<div class="booking-step" id="step4">
<div class="booking-section payment-details" id="paymentDetails">
<h3>Payment Details</h3>
<p><span>Event:</span> <span id="payEvent"></span></p>
<p><span>Ticket Type:</span> <span id="payTicketType"></span></p>
<p><span>Quantity:</span> <span id="payQuantity"></span></p>
<p><span>Price per Ticket:</span> ₹<span id="ticketPrice">0</span></p>
<p class="total-price"><span>Total:</span> ₹<span id="totalPrice">0</span></p>
</div>
<button class="nav-btn" id="proceedBtn">Proceed to Pay</button>
<button class="nav-btn secondary" onclick="prevStep(4)">Previous</button>
<div class="success-message" id="successMessage" style="display: none;">
<h3>Tickets Booked Successfully!</h3>
<p>Your Transaction ID: <span id="transactionId"></span></p>
<p>Your Reference Code: <span id="referenceCode"></span></p>
</div>
<div class="ticket" id="ticketPrint" style="display: none;">
<div class="ticket-logo">EventPass</div>
<h3>Event Ticket</h3>
<p><span>Event:</span> <span id="ticketEvent"></span></p>
<p><span>Ticket Type:</span> <span id="ticketType"></span></p>
<p><span>Quantity:</span> <span id="ticketQuantity"></span></p>
<p><span>Total Paid:</span> ₹<span id="ticketTotal"></span></p>
<p><span>Transaction ID:</span> <span id="ticketTransaction"></span></p>
<p><span>Reference Code:</span> <span id="ticketReferenceCode"></span></p>
<div class="barcode"></div>
</div>
<button class="nav-btn" id="printBtn" style="display: none;">Print Ticket</button>
</div>
</div>
</div>

<script>
const bgAnimation = document.getElementById('bgAnimation');
for (let i = 0; i < 10; i++) {
const circle = document.createElement('div');
circle.classList.add('bg-circle');
const size = Math.random() * 150 + 50;
circle.style.width = `${size}px`;
circle.style.height = `${size}px`;
circle.style.left = `${Math.random() * 100}%`;
circle.style.top = `${Math.random() * 100}%`;
circle.style.animationDuration = `${Math.random() * 8 + 8}s`;
bgAnimation.appendChild(circle);
}
for (let i = 0; i < 30; i++) {
const particle = document.createElement('div');
particle.classList.add('bg-particle');
const size = Math.random() * 10 + 5;
particle.style.width = `${size}px`;
particle.style.height = `${size}px`;
particle.style.left = `${Math.random() * 100}%`;
particle.style.top = `${Math.random() * 100}%`;
particle.style.animationDuration = `${Math.random() * 6 + 6}s`;
bgAnimation.appendChild(particle);
}

const filterButtons = document.querySelectorAll('.filter-btn');
const eventCards = document.querySelectorAll('.event-card');
const noEventsMessage = document.querySelector('.no-events');

filterButtons.forEach(button => {
button.addEventListener('click', () => {
filterButtons.forEach(btn => btn.classList.remove('active'));
button.classList.add('active');
const filterValue = button.getAttribute('data-filter');
filterEvents(filterValue);
});
});

function filterEvents(category) {
let hasVisibleEvents = false;
eventCards.forEach(card => {
if (category === 'all' || card.getAttribute('data-category') === category) {
card.style.display = 'block';
card.style.animation = 'cardAppear 0.6s ease-out';
hasVisibleEvents = true;
} else {
card.style.display = 'none';
}
});
noEventsMessage.style.display = hasVisibleEvents ? 'none' : 'block';
}

filterEvents('all');

// Booking Logic
let selectedEvent = '';
let selectedTicketType = '';
let selectedQuantity = 1;
let selectedPaymentMethod = '';
let currentStep = 1;

const eventTicketTypes = {
"Sunburn Festival 2025": [{ type: "General Admission", price: 5999 }, { type: "VIP Pass", price: 9999 }, { type: "Platinum Experience", price: 14999 }],
"Coldplay Live in Concert": [{ type: "Standard", price: 7500 }, { type: "Premium", price: 12000 }, { type: "VIP", price: 20000 }],
"IPL 2025: Mumbai vs Chennai": [{ type: "North Stand", price: 2500 }, { type: "East Stand", price: 3500 }, { type: "West Stand", price: 5000 }, { type: "VIP Box", price: 10000 }],
"Zakir Khan Live": [{ type: "Standard", price: 1499 }, { type: "Premium", price: 2499 }, { type: "VIP", price: 3999 }],
"The Play That Goes Wrong": [{ type: "Balcony", price: 1200 }, { type: "Stalls", price: 2000 }, { type: "Premium", price: 3000 }],
"Grub Fest Delhi": [{ type: "Single Day", price: 999 }, { type: "Weekend Pass", price: 1799 }, { type: "VIP Experience", price: 2999 }],
"Modern Art Exhibition": [{ type: "General Admission", price: 499 }, { type: "Guided Tour", price: 999 }],
"Rock Nation Festival": [{ type: "General Admission", price: 3500 }, { type: "VIP Pass", price: 6000 }],
"Mumbai Marathon 2025": [{ type: "10K Run", price: 1200 }, { type: "Half Marathon", price: 1500 }, { type: "Full Marathon", price: 2000 }],
"India Cultural Festival": [{ type: "Single Day", price: 799 }, { type: "Full Festival Pass", price: 1999 }]
};

document.querySelectorAll('.book-btn').forEach(btn => {
btn.addEventListener('click', () => {
selectedEvent = btn.dataset.event;
document.getElementById('bookingEventTitle').textContent = `Book Tickets - ${selectedEvent}`;
document.getElementById('bookingModal').style.display = 'flex';
currentStep = 1;
showStep(currentStep);
generateTicketTypes();
updatePaymentDetails();
});
});

function closeModal() {
document.getElementById('bookingModal').style.display = 'none';
resetSelections();
}

function resetSelections() {
selectedTicketType = '';
selectedQuantity = 1;
selectedPaymentMethod = '';
currentStep = 1;
document.querySelectorAll('.selected').forEach(item => item.classList.remove('selected'));
document.getElementById('successMessage').style.display = 'none';
document.getElementById('ticketPrint').style.display = 'none';
document.getElementById('printBtn').style.display = 'none';
document.getElementById('ticketQty').value = 1;
document.getElementById('cardholderName').value = '';
document.getElementById('cardNumber').value = '';
document.getElementById('expiryDate').value = '';
document.getElementById('cvv').value = '';
showStep(currentStep);
updatePaymentDetails();
}

function showStep(step) {
document.querySelectorAll('.booking-step').forEach(s => s.classList.remove('active'));
document.getElementById(`step${step}`).classList.add('active');
document.querySelector('.booking-content').scrollTop = 0;
}

function nextStep(current) {
if (current === 1 && !selectedTicketType) {
alert('Please select a ticket type.');
return;
}
if (current === 2 && !selectedPaymentMethod) {
alert('Please select a payment method.');
return;
}
if (current === 3 && selectedPaymentMethod !== 'upi') {
const form = document.getElementById('cardForm');
const cardholderName = document.getElementById('cardholderName').value;
const expiryDate = document.getElementById('expiryDate').value;
const cvv = document.getElementById('cvv').value;
if (!cardholderName || !expiryDate.match(/^(0[1-9]|1[0-2])\/[0-9]{2}$/) || !cvv.match(/^[0-9]{3}$/)) {
alert('Please fill in all required card details correctly.');
form.reportValidity();
return;
}
}
currentStep = current + 1;
showStep(currentStep);
updatePaymentDetails();
}

function prevStep(current) {
currentStep = current - 1;
showStep(currentStep);
}

function generateTicketTypes() {
const ticketTypesContainer = document.getElementById('ticketTypes');
ticketTypesContainer.innerHTML = '';
const ticketTypes = eventTicketTypes[selectedEvent] || [];
ticketTypes.forEach((ticket, index) => {
const ticketType = document.createElement('div');
ticketType.classList.add('ticket-type');
ticketType.innerHTML = `<h4>${ticket.type}</h4><p class="ticket-price">₹${ticket.price}</p>`;
ticketType.addEventListener('click', () => {
document.querySelectorAll('.ticket-type').forEach(t => t.classList.remove('selected'));
ticketType.classList.add('selected');
selectedTicketType = ticket.type;
updatePaymentDetails();
});
if (index === 0) {
ticketType.classList.add('selected');
selectedTicketType = ticket.type;
}
ticketTypesContainer.appendChild(ticketType);
});
}

document.getElementById('increaseQty').addEventListener('click', () => {
const qtyInput = document.getElementById('ticketQty');
let qty = parseInt(qtyInput.value);
if (qty < 10) qtyInput.value = selectedQuantity = qty + 1;
updatePaymentDetails();
});

document.getElementById('decreaseQty').addEventListener('click', () => {
const qtyInput = document.getElementById('ticketQty');
let qty = parseInt(qtyInput.value);
if (qty > 1) qtyInput.value = selectedQuantity = qty - 1;
updatePaymentDetails();
});

document.getElementById('ticketQty').addEventListener('change', () => {
let qty = parseInt(document.getElementById('ticketQty').value);
if (isNaN(qty) || qty < 1) qty = 1;
if (qty > 10) qty = 10;
document.getElementById('ticketQty').value = selectedQuantity = qty;
updatePaymentDetails();
});

document.querySelectorAll('.payment-method').forEach(method => {
method.addEventListener('click', () => {
document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('selected'));
method.classList.add('selected');
selectedPaymentMethod = method.dataset.method;
updatePaymentDetails();
});
});

document.getElementById('expiryDate').addEventListener('input', (e) => {
let value = e.target.value.replace(/\D/g, '');
value = value.slice(0, 4);
if (value.length >= 2) value = value.slice(0, 2) + '/' + value.slice(2);
e.target.value = value;
});

document.getElementById('cvv').addEventListener('input', (e) => {
e.target.value = e.target.value.replace(/\D/g, '').slice(0, 3);
});

function updatePaymentDetails() {
const ticketTypes = eventTicketTypes[selectedEvent] || [];
const selectedTicket = ticketTypes.find(t => t.type === selectedTicketType);
const ticketPrice = selectedTicket ? selectedTicket.price : 0;
const totalPrice = ticketPrice * selectedQuantity;
document.getElementById('payEvent').textContent = selectedEvent || '-';
document.getElementById('payTicketType').textContent = selectedTicketType || '-';
document.getElementById('payQuantity').textContent = selectedQuantity || '-';
document.getElementById('ticketPrice').textContent = ticketPrice.toFixed(2);
document.getElementById('totalPrice').textContent = totalPrice.toFixed(2);
}

document.getElementById('proceedBtn').addEventListener('click', () => {
const ticketTypes = eventTicketTypes[selectedEvent] || [];
const selectedTicket = ticketTypes.find(t => t.type === selectedTicketType);
const ticketPrice = selectedTicket ? selectedTicket.price : 0;
const totalPrice = ticketPrice * selectedQuantity;
const transactionId = 'EVT' + Math.random().toString(36).substr(2, 9).toUpperCase();
const refCode = `${selectedEvent.split(' ').map(w => w[0]).join('').toUpperCase()}-${Math.random().toString(36).substr(2, 6).toUpperCase()}`;
document.getElementById('transactionId').textContent = transactionId;
document.getElementById('referenceCode').textContent = refCode;
document.getElementById('successMessage').style.display = 'block';
document.getElementById('ticketEvent').textContent = selectedEvent;
document.getElementById('ticketType').textContent = selectedTicketType;
document.getElementById('ticketQuantity').textContent = selectedQuantity;
document.getElementById('ticketTotal').textContent = totalPrice.toFixed(2);
document.getElementById('ticketTransaction').textContent = transactionId;
document.getElementById('ticketReferenceCode').textContent = refCode;
document.getElementById('ticketPrint').style.display = 'block';
document.getElementById('printBtn').style.display = 'block';
document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
});

document.getElementById('printBtn').addEventListener('click', () => {
const ticket = document.getElementById('ticketPrint');
const printWindow = window.open('', '_blank');
printWindow.document.write(`
<html>
<head>
<title>EventPass Ticket - ${selectedEvent}</title>
<style>
body { font-family: 'Poppins', sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; background: #f5f5f5; }
.ticket { width: 350px; padding: 25px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15); border: 2px dashed #ccc; background: linear-gradient(135deg, #fff, #f9f9f9); position: relative; color: #333; }
.ticket::before, .ticket::after { content: ''; position: absolute; width: 20px; height: 20px; background: #f5f5f5; border-radius: 50%; border: 2px dashed #ccc; }
.ticket::before { top: -12px; left: 50%; transform: translateX(-50%); }
.ticket::after { bottom: -12px; left: 50%; transform: translateX(-50%); }
.ticket h3 { color: #f84464; margin-bottom: 15px; text-align: center; font-size: 1.5rem; border-bottom: 2px dashed #ccc; padding-bottom: 10px; }
.ticket p { font-size: 0.9rem; margin: 8px 0; color: #333; display: flex; justify-content: space-between; }
.ticket p span:last-child { font-weight: 500; }
.barcode { width: 100%; height: 50px; background: repeating-linear-gradient(90deg, #333 0, #333 2px, transparent 2px, transparent 4px); margin-top: 20px; border-radius: 5px; position: relative; }
.barcode::before { content: 'EventPass'; position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); font-size: 0.8rem; color: #6c757d; }
.ticket-logo { text-align: center; margin-bottom: 15px; font-size: 1.8rem; font-weight: bold; color: #f84464; }
</style>
</head>
<body>${ticket.outerHTML}</body>
</html>
`);
printWindow.document.close();
setTimeout(() => printWindow.print(), 500);
});

window.addEventListener('click', (e) => {
if (e.target === document.getElementById('bookingModal')) closeModal();
});
</script>
</body>
</html>